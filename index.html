<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>深圳速度：三十年人口剧变 (1985-2020)</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700&family=Noto+Serif+SC:wght@500;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-paper: #F9F7F2; /* 暖白纸张色 */
            --color-primary: #E67F65; /* 活力珊瑚红 */
            --color-secondary: #5E9EA8; /* 复古青 */
            --color-text: #2D3436;
            --color-text-light: #636e72;
            --grid-line: #E5E0D8;
            --font-en: 'Montserrat', sans-serif;
            --font-cn: 'Noto Serif SC', serif;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: #2D3436; /* 外部深色背景，衬托海报 */
            height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: var(--font-en);
            overflow: hidden; /* 防止出现滚动条 */
        }

        /* 16:9 海报容器 */
        .poster-container {
            width: 95vw;
            aspect-ratio: 16/9;
            max-height: 95vh;
            background-color: var(--bg-paper);
            position: relative;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            display: grid;
            grid-template-columns: 68% 32%; /* 左图右文 */
            overflow: hidden;
            /* 背景纹理：淡淡的网格 */
            background-image: 
                linear-gradient(var(--grid-line) 1px, transparent 1px),
                linear-gradient(90deg, var(--grid-line) 1px, transparent 1px);
            background-size: 40px 40px;
        }

        /* 装饰图案：右上角圆环 */
        .deco-circle {
            position: absolute;
            top: -10%;
            right: -5%;
            width: 40vh;
            height: 40vh;
            border: 2px solid var(--color-secondary);
            border-radius: 50%;
            opacity: 0.1;
            z-index: 0;
        }
        
        .deco-circle::before {
            content: '';
            position: absolute;
            top: 20%;
            left: 20%;
            width: 60%;
            height: 60%;
            border: 1px dashed var(--color-primary);
            border-radius: 50%;
        }

        /* 左侧主图表区 */
        .chart-area {
            position: relative;
            padding: 40px;
            display: flex;
            flex-direction: column;
            z-index: 1;
        }

        .main-title {
            font-family: var(--font-cn);
            color: var(--color-text);
            margin-bottom: 10px;
        }

        .main-title h1 {
            font-size: 3.5vw; /* 响应式字体 */
            margin: 0;
            line-height: 1;
            letter-spacing: -2px;
        }
        
        .main-title h1 span {
            color: var(--color-primary);
            font-style: italic;
        }

        .main-title p {
            font-family: var(--font-en);
            font-size: 1vw;
            color: var(--color-text-light);
            margin: 10px 0 0 5px;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        #timelineChart {
            flex: 1;
            width: 100%;
            margin-top: 20px;
        }

        /* 右侧信息栏 */
        .info-sidebar {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(5px);
            border-left: 1px solid var(--grid-line);
            padding: 5vh 3vw;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: relative;
            z-index: 2;
        }

        .story-block {
            margin-bottom: 2vh;
        }

        .story-title {
            font-family: var(--font-cn);
            font-size: 1.5vw;
            font-weight: 700;
            color: var(--color-text);
            margin-bottom: 1vh;
            display: flex;
            align-items: center;
        }

        .story-title::before {
            content: '';
            display: inline-block;
            width: 6px;
            height: 24px;
            background: var(--color-primary);
            margin-right: 10px;
            border-radius: 2px;
        }

        .story-text {
            font-family: var(--font-cn);
            font-size: 0.9vw;
            color: var(--color-text-light);
            line-height: 1.6;
            text-align: justify;
        }

        .stat-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .stat-item {
            background: #fff;
            padding: 15px;
            border: 1px solid #eee;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.02);
        }

        .stat-num {
            font-family: var(--font-en);
            font-size: 2vw;
            font-weight: 700;
            color: var(--color-primary);
        }

        .stat-label {
            font-size: 0.7vw;
            color: var(--color-text-light);
            text-transform: uppercase;
        }

        /* 迷你图表容器 */
        .mini-chart-container {
            height: 18vh;
            width: 100%;
            margin-top: 20px;
        }

        .quote-box {
            margin-top: auto;
            border-top: 1px solid var(--color-text-light);
            padding-top: 20px;
        }

        .quote {
            font-family: var(--font-cn);
            font-size: 1.2vw;
            font-style: italic;
            color: var(--color-text);
            line-height: 1.4;
        }

        .caption {
            font-size: 0.7vw;
            color: var(--color-text-light);
            margin-top: 5px;
            display: block;
            text-align: right;
        }

    </style>
</head>
<body>

    <div class="poster-container">
        <!-- 装饰背景 -->
        <div class="deco-circle"></div>

        <!-- 左侧：主要视觉区 -->
        <div class="chart-area">
            <div class="main-title">
                <h1>SHENZHEN <span>VELOCITY</span></h1>
                <h1>城市生长的力量</h1>
                <p>Population Explosion & Urban Evolution 1985-2020</p>
            </div>
            
            <!-- 主图表挂载点 -->
            <div id="timelineChart"></div>
        </div>

        <!-- 右侧：叙事与数据区 -->
        <div class="info-sidebar">
            
            <div class="story-block">
                <div class="story-title">剧变的三十五年</div>
                <div class="story-text">
                    从1985年的 <strong style="color:var(--color-primary)">88万</strong> 到2020年的 <strong style="color:var(--color-primary)">1763万</strong>，深圳的人口增长曲线不仅是数字的累积，更是中国改革开放最直观的注脚。这不仅是人口的迁徙，更是一座现代化大都市平地而起的奇迹。
                </div>
            </div>

            <div class="story-block">
                <div class="stat-grid">
                    <div class="stat-item">
                        <div class="stat-num">20x</div>
                        <div class="stat-label">Total Growth<br>总增长倍数</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-num">70%</div>
                        <div class="stat-label">Migrant Pop.<br>非户籍占比</div>
                    </div>
                </div>
            </div>

            <div class="story-block">
                <div class="story-title">倒挂的结构</div>
                <div class="story-text">
                    独特的“倒挂”现象：非户籍人口长期占据主导地位，展现了这座城市极强的包容性与流动性。
                </div>
                <!-- 迷你饼图 -->
                <div id="pieChart" class="mini-chart-container"></div>
            </div>

            <div class="quote-box">
                <div class="quote">
                    “来了就是深圳人”
                </div>
                <span class="caption">数据来源：深圳市统计年鉴</span>
            </div>
        </div>
    </div>

<script>
    // --- 数据 ---
    const data = {
        years: [
            "1985", "1986", "1987", "1988", "1989", 
            "1990", "1991", "1992", "1993", "1994", "1995", "1996", "1997", "1998", "1999", 
            "2000", "2001", "2002", "2003", "2004", "2005", "2006", "2007", "2008", "2009", 
            "2010", "2011", "2012", "2013", "2014", "2015", "2016", "2017", "2018", "2019", "2020"
        ],
        total: [
            88.15, 93.56, 105.44, 120.14, 141.60,
            167.78, 226.76, 268.02, 335.97, 412.71, 449.15, 482.89, 527.75, 580.33, 632.56,
            701.24, 724.57, 746.62, 778.27, 800.80, 827.75, 871.10, 912.37, 954.28, 995.01,
            1037.20, 1122.94, 1195.85, 1257.17, 1317.86, 1408.05, 1495.35, 1587.31, 1666.12, 1710.40, 1763.38
        ]
    };

    // --- 主图表 (Timeline) ---
    const chartDom = document.getElementById('timelineChart');
    const myChart = echarts.init(chartDom);

    const option = {
        grid: {
            top: '15%',
            left: '2%',
            right: '4%',
            bottom: '5%',
            containLabel: true
        },
        tooltip: {
            trigger: 'axis',
            backgroundColor: 'rgba(255,255,255,0.9)',
            textStyle: { fontFamily: 'Noto Serif SC' }
        },
        xAxis: {
            type: 'category',
            boundaryGap: false,
            data: data.years,
            axisLine: { lineStyle: { color: '#888' } },
            axisLabel: { 
                interval: 4, 
                fontFamily: 'Montserrat',
                color: '#636e72',
                fontSize: 12
            },
            axisTick: { show: false }
        },
        yAxis: {
            type: 'value',
            position: 'right', // Y轴放右边，不遮挡左边的上升趋势
            splitLine: { 
                show: true, 
                lineStyle: { type: 'dashed', color: '#E5E0D8' } 
            },
            axisLine: { show: false },
            axisLabel: { 
                formatter: '{value} 万',
                color: '#636e72',
                fontFamily: 'Noto Serif SC'
            }
        },
        series: [
            {
                name: '常住人口',
                type: 'line',
                smooth: true,
                symbol: 'none',
                data: data.total,
                lineStyle: {
                    width: 4,
                    color: '#E67F65', // 珊瑚红主线
                    shadowColor: 'rgba(230, 127, 101, 0.4)',
                    shadowBlur: 10,
                    shadowOffsetY: 5
                },
                areaStyle: {
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                        { offset: 0, color: 'rgba(230, 127, 101, 0.4)' },
                        { offset: 1, color: 'rgba(230, 127, 101, 0.01)' }
                    ])
                },
                markPoint: {
                    symbol: 'circle',
                    symbolSize: 10,
                    itemStyle: { color: '#2D3436' },
                    label: {
                        show: true,
                        position: 'top',
                        formatter: '{b}\n{c}万',
                        fontFamily: 'Noto Serif SC',
                        backgroundColor: '#fff',
                        padding: [4, 8],
                        borderRadius: 4,
                        borderColor: '#E67F65',
                        borderWidth: 1,
                        color: '#2D3436'
                    },
                    data: [
                        { coord: ['1985', 88.15], value: 88.15, name: '起点' },
                        { coord: ['2000', 701.24], value: 701.24, name: '千禧年' },
                        { coord: ['2020', 1763.38], value: 1763.38, name: '2020' }
                    ]
                },
                // 关键事件标注线
                markLine: {
                    symbol: ['none', 'none'],
                    label: { show: true, position: 'insideEndTop', formatter: '{b}' },
                    lineStyle: { color: '#5E9EA8', type: 'dashed', width: 1 },
                    data: [
                        { xAxis: '1992', label: { formatter: '1992 南方谈话\n(增速爆发)', padding:[0,0,10,-60], color:'#5E9EA8' } },
                        { xAxis: '2010', label: { formatter: '2010 特区扩容\n(突破千万)', padding:[0,0,10,-60], color:'#5E9EA8' } }
                    ]
                }
            }
        ]
    };
    myChart.setOption(option);

    // --- 迷你饼图 (Pie) ---
    const pieDom = document.getElementById('pieChart');
    const pieChart = echarts.init(pieDom);
    
    // 2020 数据
    const pieOption = {
        color: ['#E67F65', '#5E9EA8'], // 珊瑚红(非户籍) vs 青色(户籍)
        tooltip: { trigger: 'item' },
        legend: { top: 'middle', left: 'right', orient: 'vertical', icon: 'circle' },
        series: [
            {
                name: '2020人口结构',
                type: 'pie',
                radius: ['50%', '80%'],
                center: ['30%', '50%'],
                avoidLabelOverlap: false,
                itemStyle: {
                    borderRadius: 5,
                    borderColor: '#fff',
                    borderWidth: 2
                },
                label: { show: false },
                data: [
                    { value: 1249.28, name: '非户籍' },
                    { value: 514.10, name: '户籍' }
                ]
            }
        ]
    };
    pieChart.setOption(pieOption);

    // 响应式
    window.addEventListener('resize', () => {
        myChart.resize();
        pieChart.resize();
    });

</script>
</body>
</html>
